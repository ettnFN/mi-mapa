<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mapa Fortnite Interactivo</title>

<style>
  body, html {
    margin: 0; padding: 0; height: 100%; overflow: hidden;
    font-family: Arial, sans-serif;
    background: #222;
  }
  #map-container {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    cursor: grab;
    position: relative;
    user-select: none;
    background: #000;
  }
  #map {
    position: absolute;
    top: 0; left: 0;
    width: 2048px;
    height: 2048px;
    transform-origin: top left;
  }
  .zone {
    position: absolute;
    border: 2px solid black;
    border-radius: 6px;
    color: white;
    padding: 4px 8px;
    font-weight: bold;
    user-select: none;
    cursor: default;
    white-space: nowrap;
    opacity: 0.7;
    transition: opacity 0.3s ease;
  }
  .zone:hover {
    opacity: 1;
    z-index: 10;
  }
  .tooltip {
    position: absolute;
    background: rgba(0,0,0,0.8);
    color: #fff;
    padding: 5px 10px;
    border-radius: 5px;
    pointer-events: none;
    white-space: nowrap;
    font-size: 14px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
</style>
</head>
<body>

<div id="map-container">
  <img id="map" src="mapa-fortnite.png" alt="Mapa Fortnite" draggable="false" />
  <!-- Zonas se insertan aquí -->
</div>

<script>
// Configuración inicial
const mapContainer = document.getElementById('map-container');
const map = document.getElementById('map');

let scale = 1;
const scaleMin = 0.5;
const scaleMax = 3;

let originX = 0;
let originY = 0;

let isDragging = false;
let dragStartX = 0;
let dragStartY = 0;

// Datos de zonas: aquí defines las zonas que quieras agregar fácilmente
// Puedes copiar y pegar para agregar más zonas sin tocar lógica
const zones = [
  { top: 100, left: 200, width: 150, height: 100, color: 'rgba(255, 0, 0, 0.5)', text: 'Zona 1' },
  { top: 600, left: 500, width: 200, height: 150, color: 'rgba(0, 128, 255, 0.5)', text: 'Zona 2' }
];

// Crear y mostrar las zonas
zones.forEach(zone => {
  const div = document.createElement('div');
  div.classList.add('zone');
  div.style.top = zone.top + 'px';
  div.style.left = zone.left + 'px';
  div.style.width = zone.width + 'px';
  div.style.height = zone.height + 'px';
  div.style.backgroundColor = zone.color;
  div.textContent = zone.text;

  mapContainer.appendChild(div);
});

// Función para actualizar posición y zoom
function updateTransform() {
  map.style.transform = `translate(${originX}px, ${originY}px) scale(${scale})`;
  // también mover las zonas
  document.querySelectorAll('.zone').forEach(zone => {
    zone.style.transform = `translate(${originX}px, ${originY}px) scale(${scale})`;
    zone.style.transformOrigin = 'top left';
  });
}

// Zoom con rueda del mouse
mapContainer.addEventListener('wheel', e => {
  e.preventDefault();
  const delta = e.deltaY > 0 ? -0.1 : 0.1;
  scale += delta;
  scale = Math.min(Math.max(scale, scaleMin), scaleMax);
  updateTransform();
});

// Drag con mouse
mapContainer.addEventListener('mousedown', e => {
  isDragging = true;
  dragStartX = e.clientX - originX;
  dragStartY = e.clientY - originY;
  mapContainer.style.cursor = 'grabbing';
});

window.addEventListener('mouseup', e => {
  isDragging = false;
  mapContainer.style.cursor = 'grab';
});

window.addEventListener('mousemove', e => {
  if (!isDragging) return;
  originX = e.clientX - dragStartX;
  originY = e.clientY - dragStartY;
  updateTransform();
});

</script>

</body>
</html>
