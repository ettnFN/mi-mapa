<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mapa Interactivo</title>
<style>
  body, html {
    margin: 0; padding: 0; height: 100%; overflow: hidden;
  }
  #container {
    position: relative;
    width: 100vw; height: 100vh;
    overflow: hidden;
    background: #333;
  }
  #map {
    position: absolute;
    top: 0; left: 0;
    transform-origin: 0 0;
    cursor: grab;
    user-select: none;
  }
  .box {
    position: absolute;
    border: 2px solid red;
    background-color: rgba(255, 0, 0, 0.3);
    color: white;
    font-weight: bold;
    padding: 2px 5px;
    pointer-events: none;
  }
</style>
</head>
<body>

<div id="container">
  <img id="map" src="mapa-fortnite.png" alt="Mapa" />
  <div class="box" style="top:100px; left:150px; width:120px; height:80px;">Zona 1</div>
  <div class="box" style="top:300px; left:400px; width:150px; height:100px; background-color: rgba(0, 0, 255, 0.3); border-color: blue;">Zona 2</div>
</div>

<script>
  const map = document.getElementById('map');
  const container = document.getElementById('container');

  let scale = 1;
  let posX = 0;
  let posY = 0;
  let isDragging = false;
  let dragStartX = 0;
  let dragStartY = 0;
  let mapStartX = 0;
  let mapStartY = 0;

  container.addEventListener('mousedown', (e) => {
    isDragging = true;
    dragStartX = e.clientX;
    dragStartY = e.clientY;
    mapStartX = posX;
    mapStartY = posY;
    container.style.cursor = 'grabbing';
  });

  window.addEventListener('mouseup', () => {
    isDragging = false;
    container.style.cursor = 'grab';
  });

  window.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    posX = mapStartX + (e.clientX - dragStartX);
    posY = mapStartY + (e.clientY - dragStartY);
    updateTransform();
  });

  container.addEventListener('wheel', (e) => {
    e.preventDefault();
    const delta = e.deltaY > 0 ? -0.1 : 0.1;
    scale += delta;
    scale = Math.min(Math.max(0.5, scale), 5);
    updateTransform();
  }, { passive: false });

  function updateTransform() {
    map.style.transform = `translate(${posX}px, ${posY}px) scale(${scale})`;
  }
</script>

</body>
</html>
